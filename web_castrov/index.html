<!DOCTYPE html>

<html lang="cs">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Obec Častrov – Domovská stránka</title>
<style>
    body, main {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background-color: #f2f2f2;
    }

    header {
      background-color: #004d99;
      color: white;
      padding: 20px;
      text-align: center;
    }

    nav ul {
      display: flex;
      justify-content: center;
      background-color: #0066cc;
      padding: 0;
      margin: 0;
      list-style: none;
    }

    nav ul li {
      margin: 0;
    }

    nav ul li a {
      display: block;
      padding: 15px 25px;
      color: white;
      text-decoration: none;
    }

    nav ul li a:hover {
      background-color: #005bb5;
    }

    /* Upravená sekce - zarovnání uprostřed */
    section {
      max-width: 900px;
      margin: 20px auto;
      padding: 20px;
      box-sizing: border-box;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      text-align: center;
    }

    footer {
      background-color: #004d99;
      color: white;
      text-align: center;
      padding: 10px;
    }

    .slideshow-container {
      position: relative;
      max-width: 2000px;      /* omezení šířky */
      
      width: 100%;           /* aby bylo responzivní */
      margin: 0 auto 30px auto; /* vycentrování a spodní odsazení */
      overflow: hidden;
      user-select: none;
      border-radius: 2px;
      box-shadow: 0 0 8px rgba(0,0,0,0.2);
      background-color: #000;
    }

    .slide {
      display: none;
    }

    .slide img {
      width: 100%;
      height: 60vh;
      object-fit: cover;
      display: block;
      border-radius: 3px;
    }

    .fade {
      animation: fade 1s ease-in-out;
    }

    @keyframes fade {
      from { opacity: 0.4; }
      to   { opacity: 1; }
    }

    .prev, .next {
      cursor: pointer;
      position: absolute;
      padding: 16px;
      color: white;
      font-weight: bold;
      font-size: 30px;
      background-color: rgba(0, 0, 0, 0.5);
      user-select: none;
      z-index: 10;
      transition: background-color 0.3s ease;
      border-radius: 3px;
      top: 10px;
      margin-top: 0;
    }

    .prev {
      left: 10px;
      top: 45%; 
    }

    .next {
      right: 10px;
      top: 45%;
    }

    .prev:hover, .next:hover {
      background-color: rgba(0,0,0,0.8);
    }
  </style>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<style>
.carousel-control-prev,
.carousel-control-next {
  width: auto;
  height: auto;
  top: 50%;
  transform: translateY(-50%);
  padding: 10px;
  background: rgba(0,0,0,0.4);
  border-radius: 50%;
}
</style>

<style>
.carousel-control-prev,
.carousel-control-next {
  background: none;
  width: auto;
  height: auto;
  top: 50%;
  transform: translateY(-50%);
  padding: 8px;
  border-radius: 50%;
}
.carousel-control-prev-icon,
.carousel-control-next-icon {
  filter: drop-shadow(1px 1px 2px black);
}
</style>
</head>

<body>

<!-- Carousel removed -->

    <div class="carousel-item">
      <img src="obrazky/obec3.jpg" class="d-block w-100" alt="Obec 3">
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselObec" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Předchozí</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselObec" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Další</span>
  </button>
</div>

<header><div style="position:absolute; top:10px; right:20px;">
<a href="admin-login.php" style="color:white; font-weight:bold;">Admin Login</a>
</div>

<h1>Obec Častrov</h1>
<p>Oficiální webové stránky obce</p>
</header>
<nav>
<ul>
<li><a href="index.html">Domů</a></li>
<li><a href="kronika.php">Kronika</a></li>
<li><a href="fotogalerie.php">Fotogalerie</a></li>
<li><a href="kalendar.html">Kalendář akcí</a></li>
<li><a href="kontakty.html">Kontakty</a></li>
</ul>
<div id="carouselObec" class="carousel slide my-4" data-bs-ride="carousel" data-bs-interval="5000" data-bs-interval="false">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="obrazky/obec1.jpg" class="d-block w-100" alt="Obec 1">
    </div>
    <div class="carousel-item">
      <img src="obrazky/obec2.jpg" class="d-block w-100" alt="Obec 2">
    </div>

</nav>
<main>

<section id="udalosti" style="padding: 40px; background-color: #f8f9fa">
  

<div class="container">
    <h2 style="text-align:center; margin-bottom: 30px;">Aktuální události</h2>
    <div id="udalosti-list" style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center"></div>
  </div>
</section>

<div id="modal" style="

display:none; position:fixed; top:0; left:0; width:100%; height:100%; background-color: rgba(0,0,0,0.7); z-index: 9999; justify-content:center; align-items:center;">
  <div style="background:white; padding: 20px; max-width:600px; width:90%; position:relative;">
    <span onclick="zavritModal()" style="position:absolute; top:10px; right:15px; font-size: 24px; cursor:pointer">&times;</span>
    <h3 id="modal-nadpis"></h3>
    <div id="modal-datum" style="margin-bottom: 10px; font-size: 0.9em; color: #666;"></div>
<img id="modal-obrazek" src="" alt="obrazek" style="width:100%; max-height:300px; object-fit:cover; margin-bottom:15px">
    <p id="modal-popis"></p>
  </div>
</div>

</main>
<footer>
<p>© 2025 Obec Častrov | Všechna práva vyhrazena</p>
</footer>
<script>
    let slideIndex = 0;
    let slides;

    function showSlides() {
      slides = document.getElementsByClassName("slide");
      for (let i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      slideIndex++;
      if (slideIndex > slides.length) {
        slideIndex = 1;
      }
      slides[slideIndex - 1].style.display = "block";
      setTimeout(showSlides, 5000);
    }

    function showSlide(n) {
      slides = document.getElementsByClassName("slide");
      if (n >= slides.length) {
        slideIndex = 0;
      } else if (n < 0) {
        slideIndex = slides.length - 1;
      } else {
        slideIndex = n;
      }
      for (let i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      slides[slideIndex].style.display = "block";
    }

    function changeSlide(n) {
      showSlide(slideIndex + n);
    }

    window.onload = function() {
      slides = document.getElementsByClassName("slide");
      showSlide(slideIndex);
      setTimeout(showSlides, 5000);
    };
  </script>

<script>
fetch("load-novinky.php")
  .then(res => res.json())
  .then(udalosti => {
    const list = document.getElementById("udalosti-list");
    udalosti.forEach(u => {
      const karta = document.createElement("div");
      karta.style.width = "250px";
      karta.style.border = "1px solid #ccc";
      karta.style.borderRadius = "10px";
      karta.style.overflow = "hidden";
      karta.style.cursor = "pointer";
      karta.style.backgroundColor = "white";
      karta.onclick = () => otevriModal(u);

      karta.innerHTML = `
        <img src="${u.obrazek}" style="width:100%; height:150px; object-fit:cover">
        <div style="padding: 10px">
          <h4>${u.nadpis}</h4>
<small>${new Date(u.datum).toLocaleString("cs-CZ", { day: 'numeric', month: 'numeric', year: 'numeric', hour: '2-digit', minute: '2-digit' })}</small>
          <p style="font-size: 0.9em; color: #555">${u.popis.substring(0, 80)}...</p>
        </div>
      `;
      list.appendChild(karta);
    });
  });

function otevriModal(udalost) {
  document.getElementById("modal-nadpis").textContent = udalost.nadpis;
document.getElementById("modal-datum").textContent = new Date(udalost.datum).toLocaleString("cs-CZ", { day: 'numeric', month: 'numeric', year: 'numeric', hour: '2-digit', minute: '2-digit' });
  document.getElementById("modal-popis").textContent = udalost.popis;
  document.getElementById("modal-obrazek").src = udalost.obrazek;
  document.getElementById("modal").style.display = "flex";
}

function zavritModal() {
  document.getElementById("modal").style.display = "none";
}
</script>

</body>
</html>
